{
    "version": 2,
    "env": {
        "SPOTIFY_CLIENT_ID": "@spotify_client_id",
        "SPOTIFY_CLIENT_SECRET": "@spotify_client_secret",
        "PROXY": "@proxy_url",
        "DIGITALOCEAN_URL": "@digitalocean_url"
    },
    "builds": [
        {
            "src": "api/index.js",
            "use": "@vercel/node",
            "config": {
                "maxLambdaSize": "15mb",
                "includeFiles": [
                    "cookies.txt",
                    "scripts/**",
                    "playground.html",
                    "playground.js"
                ]
            }
        },
        {
            "src": "api/proxy.py",
            "use": "@vercel/python"
        }
    ],
    "routes": [
        {
            "src": "/proxy/(.*)",
            "dest": "api/proxy.py"
        },
        {
            "src": "/proxy",
            "dest": "api/proxy.py"
        },
        {
            "src": "/(.*)",
            "dest": "api/index.js"
        }
    ]
}